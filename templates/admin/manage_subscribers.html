{% extends "admin/admin_base.html" %}

{% block admin_title %}Manage Subscribers{% endblock %}

{% block admin_content %}
<h1>Manage Subscribers</h1>
<p class="tool-subtitle">View and manage your newsletter subscribers.</p>

<div class="admin-table-wrapper" style="margin-top: 30px;">
    <table class="admin-table">
        <thead>
            <tr>
                <th>Email Address</th>
                <th>Subscription Date</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for subscriber in subscribers %}
            <tr>
                <td>{{ subscriber.email }}</td>
                <td>{{ subscriber.subscribed_on.strftime('%b %d, %Y') }}</td>
                <td>
                    <form action="{{ url_for('delete_subscriber', subscriber_id=subscriber.id) }}" method="POST" onsubmit="return confirm('Are you sure you want to delete this subscriber?');">
                        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                        <button type="submit" class="btn btn-secondary" style="background-color: #8C1C1B; color: white;">Delete</button>
                    </form>
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="3" style="text-align: center; padding: 40px; color: var(--text-secondary);">
                    No subscribers found.
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}